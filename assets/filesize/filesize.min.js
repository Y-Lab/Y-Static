const INVALID_NUMBER="Invalid number",INVALID_ROUND="Invalid rounding method",IEC="iec",JEDEC="jedec",SI="si",BIT="bit",BITS="bits",BYTE="byte",BYTES="bytes",SI_KBIT="kbit",SI_KBYTE="kB",ARRAY="array",FUNCTION="function",OBJECT="object",STRING="string",EXPONENT="exponent",ROUND="round",EMPTY="",PERIOD=".",S="s",SPACE=" ",ZERO="0",STRINGS={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function filesize(t,{bits:i=!1,pad:e=!1,base:o=-1,round:n=2,locale:r=EMPTY,localeOptions:a={},separator:l=EMPTY,spacer:s=SPACE,symbols:b={},standard:E=EMPTY,output:T=STRING,fullform:p=!1,fullforms:I=[],exponent:B=-1,roundingMethod:u=ROUND,precision:c=0}={}){let N=B,f=Number(t),d=[],M=0,P=EMPTY;E===SI?(o=10,E=JEDEC):E===IEC||E===JEDEC?o=2:2===o?E=IEC:(o=10,E=JEDEC);const R=10===o?1e3:1024,Y=!0===p,g=f<0,m=Math[u];if("bigint"!=typeof t&&isNaN(t))throw new TypeError(INVALID_NUMBER);if(typeof m!==FUNCTION)throw new TypeError(INVALID_ROUND);if(g&&(f=-f),(-1===N||isNaN(N))&&(N=Math.floor(Math.log(f)/Math.log(R)))<0&&(N=0),N>8&&(c>0&&(c+=8-N),N=8),T===EXPONENT)return N;if(0===f)d[0]=0,P=d[1]=STRINGS.symbol[E][i?BITS:BYTES][N];else{M=f/(2===o?Math.pow(2,10*N):Math.pow(1e3,N)),i&&(M*=8)>=R&&N<8&&(M/=R,N++);const t=Math.pow(10,N>0?n:0);d[0]=m(M*t)/t,d[0]===R&&N<8&&-1===B&&(d[0]=1,N++),P=d[1]=10===o&&1===N?i?SI_KBIT:SI_KBYTE:STRINGS.symbol[E][i?BITS:BYTES][N]}if(g&&(d[0]=-d[0]),c>0&&(d[0]=d[0].toPrecision(c)),d[1]=b[d[1]]||d[1],!0===r?d[0]=d[0].toLocaleString():r.length>0?d[0]=d[0].toLocaleString(r,a):l.length>0&&(d[0]=d[0].toString().replace(PERIOD,l)),e&&n>0){const t=d[0].toString(),i=l||(t.match(/(\D)/g)||[]).pop()||PERIOD,e=t.toString().split(i),o=e[1]||EMPTY,r=o.length,a=n-r;d[0]=`${e[0]}${i}${o.padEnd(r+a,ZERO)}`}return Y&&(d[1]=I[N]?I[N]:STRINGS.fullform[E][N]+(i?BIT:BYTE)+(1===d[0]?EMPTY:S)),T===ARRAY?d:T===OBJECT?{value:d[0],symbol:d[1],exponent:N,unit:P}:d.join(s)}function partial({bits:t=!1,pad:i=!1,base:e=-1,round:o=2,locale:n=EMPTY,localeOptions:r={},separator:a=EMPTY,spacer:l=SPACE,symbols:s={},standard:b=EMPTY,output:E=STRING,fullform:T=!1,fullforms:p=[],exponent:I=-1,roundingMethod:B=ROUND,precision:S=0}={}){return u=>filesize(u,{bits:t,pad:i,base:e,round:o,locale:n,localeOptions:r,separator:a,spacer:l,symbols:s,standard:b,output:E,fullform:T,fullforms:p,exponent:I,roundingMethod:B,precision:S})}export{filesize,partial};